import{B as x,F as B,T as i}from"./vant-vendor.6e1b633d.js";import{k,G as v,a2 as V,r as s,b as w,K as A,H as E,I as e,j as c,R as _,x as r,u as l,J as G,f as F,E as K}from"./vendor.a80ff229.js";import{g as R,a as N,b as m}from"./assets/index.743c4baf.js";const D={class:"Auth p-4 bg-gray-1 flex-1"},T=e("p",null,"1.Download Google Authenticator",-1),U={"text-center":"","my-4":""},q=e("hr",{"my-4":""},null,-1),Q=e("p",null,"2.Open the Google Authenticator and scanthe QR Code below or enter secretKey",-1),S={"text-center":"","my-4":""},j=["src"],z=e("p",{"font-bold":""}," secretKey ",-1),H=e("i",{"translate-y--2px":"","i-material-symbols:content-copy-outline":""},null,-1),I=e("hr",{"my-4":""},null,-1),J=e("p",null," 3.Enter the time-based on-time codegenerated by the Google Authenticator appin the filed below ",-1),M=e("p",{"font-bold":"","mt-2":""}," Google Authenticator ",-1),O={"my-4":""},$=k({__name:"auth",setup(L){const h=v(),{toClipboard:g}=V(),a=s(""),y=s(""),u=s(""),t=s(),f=o=>{g(o).then(()=>{i("copy success!")}).catch(()=>{i("copy fail!")})},b=()=>{N({googleCode:t.value}).then(o=>{console.log("\u{1F680} ~ file: auth.vue:19 ~ bind ~ res:",o),i("bind success"),K.set("bingCode",(o.bingCode||0).toString(),{expires:1}),h.go(-1)})};return w(()=>{R().then(o=>{y.value=o.qrUrl,u.value=o.imgBase64,a.value=o.secretKey})}),(o,n)=>{const d=x,C=B;return A(),E("div",D,[e("section",null,[T,e("p",U,[c(d,{type:"primary",size:"small"},{default:_(()=>[r(" Download Now ")]),_:1})])]),q,e("section",null,[Q,e("p",S,[e("img",{"inline-block":"",crossorigin:"anonymous",src:l(u),alt:"\u4E8C\u7EF4\u7801"},null,8,j)]),z,e("p",{"text-sm":"",onClick:n[0]||(n[0]=p=>f(l(a)))},[r(G(l(a))+" ",1),H])]),I,e("section",null,[J,M,c(C,{modelValue:l(t),"onUpdate:modelValue":n[1]||(n[1]=p=>F(t)?t.value=p:null),name:"googleCode",label:"",placeholder:"Enter new Google Auth.code"},null,8,["modelValue"])]),e("section",O,[c(d,{block:"",type:"primary",onClick:b},{default:_(()=>[r(" Confirm ")]),_:1})])])}}});typeof m=="function"&&m($);export{$ as default};
