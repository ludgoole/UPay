import{B as x,F as B,T as i}from"./vant-vendor.6e1b633d.js";import{k,G as v,a2 as V,r as s,b as w,K as A,H as G,I as e,j as c,R as _,x as r,u as l,J as R,f as K,E}from"./vendor.a80ff229.js";import{g as F,a as N,b as m}from"./assets/index.25f2862a.js";const D={class:"Auth p-4 bg-gray-1 flex-1"},Q=e("p",null,"1.Download Google Authenticator",-1),T={"text-center":"","my-4":""},U=e("hr",{"my-4":""},null,-1),q=e("p",null,"2.Open the Google Authenticator and scanthe QR Code below or enter secretKey",-1),S={"text-center":"","my-4":""},j=["src"],z=e("p",{"font-bold":""}," secretKey ",-1),H=e("i",{"translate-y--2px":"","i-material-symbols:content-copy-outline":""},null,-1),I=e("hr",{"my-4":""},null,-1),J=e("p",null," 3.Enter the time-based on-time codegenerated by the Google Authenticator appin the filed below ",-1),M=e("p",{"font-bold":"","mt-2":""}," Google Authenticator ",-1),O={"my-4":""},$=k({__name:"auth",setup(L){const h=v(),{toClipboard:g}=V(),a=s(""),y=s(""),d=s(""),t=s(),f=o=>{g(o).then(()=>{i("copy success!")}).catch(()=>{i("copy fail!")})},b=()=>{N({googleCode:t.value}).then(o=>{console.log("\u{1F680} ~ file: auth.vue:19 ~ bind ~ res:",o),i("bind success"),E.set("bingCode",(o.bindCode||0).toString(),{expires:1}),h.go(-1)})};return w(()=>{F().then(o=>{y.value=o.qrUrl,d.value=o.imgBase64,a.value=o.secretKey})}),(o,n)=>{const u=x,C=B;return A(),G("div",D,[e("section",null,[Q,e("p",T,[c(u,{type:"primary",size:"small"},{default:_(()=>[r(" Download Now ")]),_:1})])]),U,e("section",null,[q,e("p",S,[e("img",{"inline-block":"",crossorigin:"anonymous",src:l(d),alt:"QR Code"},null,8,j)]),z,e("p",{"text-sm":"",onClick:n[0]||(n[0]=p=>f(l(a)))},[r(R(l(a))+" ",1),H])]),I,e("section",null,[J,M,c(C,{modelValue:l(t),"onUpdate:modelValue":n[1]||(n[1]=p=>K(t)?t.value=p:null),name:"googleCode",label:"",placeholder:"Enter new Google Auth.code"},null,8,["modelValue"])]),e("section",O,[c(u,{block:"",type:"primary",onClick:b},{default:_(()=>[r(" Confirm ")]),_:1})])])}}});typeof m=="function"&&m($);export{$ as default};
