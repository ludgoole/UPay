import{c as Q,B as O,E as W,d as X,e as Y,f as Z,F as ee,g as ae,A as te,T}from"./vant-vendor.6e1b633d.js";import{k as se,P as le,r,a as oe,b as ne,K as i,H as c,I as d,j as l,R as m,F as g,S as x,u as a,f as B,x as k,J as v,Q as de}from"./vendor.a80ff229.js";import{b as ue,a as re,c as ie,d as ce,e as me,f as pe}from"./mine.b50d4894.js";import{b as E}from"./assets/index.743c4baf.js";const fe={class:"Blank px-4 bg-gray-1 flex-1"},ge={key:0,"mt-4":"","color-gray-4":"","divide-y":""},ve=d("li",null,null,-1),be={key:0},he={"flex-middle":"","flex-justify":""},_e=d("li",null,null,-1),Ve={style:{margin:"16px"},"pb-4":""},ke=se({__name:"address",setup(ye){const w=le(),b=r([]),y=r(!1),F=r(!1),C=r(1),D=r(10),S=r(0),U=r(0),u=r(String(w.query.title)),I=[{title:"USDT"},{title:"BANK"}],p=r(!1),h=r("Add"),t=oe({address:"",googleCode:"",beneName:"",account:"",ifsc:""}),_=()=>{const n=u.value==="BANK"?ue:re;console.log("\u{1F680} ~ file: address.vue:36 ~ getList ~ title.value:",u.value),n({pageNum:C.value,pageSize:D.value}).then(e=>{console.log("\u{1F680} ~ file: address.vue:13 ~ addressDetail ~ res:",e),S.value=e.total,b.value=e.records.map(f=>({...f,checked:!!f.status}))})},L=()=>{console.log("\u{1F680} ~ file: address.vue:57 ~ onLoad ~ pageNum:",C),S.value>b.value.length?(C.value++,_()):F.value=!0},q=()=>{t.address="",t.googleCode="",t.beneName="",t.account="",t.ifsc=""},P=()=>{q(),h.value="Add",p.value=!0},K=n=>{U.value=n.id,h.value="Edit",t.address=n.address,t.googleCode="",p.value=!0},z=n=>{const e=u.value==="BANK"?ie:ce,f=h.value==="Add"?e(n):me({...n,addressId:U.value});u.value==="BANK"&&console.log("\u{1F680} ~ file: address.vue:62 ~ onSubmit ~ values:",n),f.then(()=>{p.value=!1,T(h.value==="Add"?"add success":"update success"),_()})},$=n=>{pe({addressId:n.id,status:n.status===0?1:0}).then(()=>{T("change status success"),_()}).catch(()=>{S.value=0,b.value=[]})};return ne(()=>{_()}),(n,e)=>{const f=Q,A=O,G=W,R=X,j=Y,H=Z,V=ee,J=ae,M=te;return i(),c(g,null,[d("div",fe,[d("section",null,[l(H,{active:a(u),"onUpdate:active":e[1]||(e[1]=s=>B(u)?u.value=s:null),type:"card","mt-4":"","pb-4":"",onChange:_},{default:m(()=>[(i(),c(g,null,x(I,s=>l(j,{key:s.title,name:s.title,title:s.title},{default:m(()=>[l(R,{loading:a(y),"onUpdate:loading":e[0]||(e[0]=o=>B(y)?y.value=o:null),finished:a(F),"finished-text":"",onLoad:L},{default:m(()=>[a(b).length?(i(),c("ul",ge,[ve,(i(!0),c(g,null,x(a(b),o=>(i(),c("li",{key:o.id,"py-4":""},[d("p",null,"Id: "+v(o.id),1),a(u)==="USDT"?(i(),c("p",be,"Address: "+v(o.address),1)):(i(),c(g,{key:1},[d("p",null,"BankAccount: "+v(o.bankAccount),1),d("p",null,"BeneName: "+v(o.beneName),1),d("p",null,"IFSC: "+v(o.ifsc),1)],64)),d("p",he,[d("span",null,[k(" Status: "),l(f,{modelValue:o.checked,"onUpdate:modelValue":N=>o.checked=N,size:"16","inactive-color":"#dcdee0","ml-2":"",onChange:N=>$(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),l(A,{type:"primary",size:"mini",class:"!px-2",onClick:N=>K(o)},{default:m(()=>[k(" edit ")]),_:2},1032,["onClick"])]),d("p",null,"CreateTime: "+v(o.createTime),1)]))),128)),_e])):(i(),de(G,{key:1,description:"no data"}))]),_:1},8,["loading","finished"]),l(A,{type:"primary",block:"",onClick:P},{default:m(()=>[k(" add ")]),_:1})]),_:2},1032,["name","title"])),64))]),_:1},8,["active"])])]),l(M,{show:a(p),"onUpdate:show":e[7]||(e[7]=s=>B(p)?p.value=s:null),title:`${a(h)} ${a(u)}`},{default:m(()=>[l(J,{onSubmit:z},{default:m(()=>[a(u)==="USDT"?(i(),c(g,{key:0},[l(V,{modelValue:a(t).address,"onUpdate:modelValue":e[2]||(e[2]=s=>a(t).address=s),name:"address",label:"Address",placeholder:"Enter the address",rules:[{required:!0,message:"Please enter the Address"}]},null,8,["modelValue"]),l(V,{modelValue:a(t).googleCode,"onUpdate:modelValue":e[3]||(e[3]=s=>a(t).googleCode=s),name:"googleCode",label:"Google Code",placeholder:"Enter the Google Code",rules:[{required:!0,message:"Please enter Google Code"}]},null,8,["modelValue"])],64)):(i(),c(g,{key:1},[l(V,{modelValue:a(t).beneName,"onUpdate:modelValue":e[4]||(e[4]=s=>a(t).beneName=s),name:"beneName",label:"Bene Name",placeholder:"Enter the bene name",rules:[{required:!0,message:"Please enter the bene name"}]},null,8,["modelValue"]),l(V,{modelValue:a(t).account,"onUpdate:modelValue":e[5]||(e[5]=s=>a(t).account=s),name:"bankAccount",label:"Bank Account",placeholder:"Enter the account",rules:[{required:!0,message:"Please enter the account"}]},null,8,["modelValue"]),l(V,{modelValue:a(t).ifsc,"onUpdate:modelValue":e[6]||(e[6]=s=>a(t).ifsc=s),name:"ifsc",label:"IFSC",placeholder:"Enter the ifsc",rules:[{required:!0,message:"Please enter the ifsc"}]},null,8,["modelValue"])],64)),d("div",Ve,[l(A,{block:"",type:"primary","native-type":"submit"},{default:m(()=>[k(" submit ")]),_:1})])]),_:1})]),_:1},8,["show","title"])],64)}}});typeof E=="function"&&E(ke);export{ke as default};
