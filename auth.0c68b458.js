import{B as y,F as C,T as x}from"./vant-vendor.c1d1d286.js";import{_ as B}from"./AppCopy.vue_vue_type_script_setup_true_lang.2970d5e9.js";import{k as V,G as k,r as n,b as v,L as w,H as A,I as e,j as s,S as d,x as u,u as l,f as G,E as R}from"./vendor.b3a4d035.js";import{g as E,a as F,b as _}from"./assets/index.d32c44a0.js";const K={class:"Auth p-4 bg-gray-1 flex-1"},N=e("p",null,"1.Download Google Authenticator",-1),Q={"text-center":"","my-4":""},T=e("hr",{"my-4":""},null,-1),U=e("p",null,"2.Open the Google Authenticator and scanthe QR Code below or enter secretKey",-1),q={"text-center":"","my-4":""},D=["src"],S=e("p",{"font-bold":""}," secretKey ",-1),j=e("hr",{"my-4":""},null,-1),z=e("p",null," 3.Enter the time-based on-time codegenerated by the Google Authenticator appin the filed below ",-1),H=e("p",{"font-bold":"","mt-2":""}," Google Authenticator ",-1),I={"my-4":""},L=V({__name:"auth",setup(M){const m=k(),a=n(""),p=n(""),c=n(""),t=n(),h=()=>{F({googleCode:t.value}).then(o=>{console.log("\u{1F680} ~ file: auth.vue:19 ~ bind ~ res:",o),x("bind success"),R.set("bingCode",(o.bindCode||0).toString(),{expires:1}),m.go(-1)})};return v(()=>{E().then(o=>{p.value=o.qrUrl,c.value=o.imgBase64,a.value=o.secretKey})}),(o,i)=>{const r=y,g=B,f=C;return w(),A("div",K,[e("section",null,[N,e("p",Q,[s(r,{type:"primary",size:"small"},{default:d(()=>[u(" Download Now ")]),_:1})])]),T,e("section",null,[U,e("p",q,[e("img",{"inline-block":"",crossorigin:"anonymous",src:l(c),alt:"QR Code"},null,8,D)]),S,s(g,{"text-sm":"",text:l(a)},null,8,["text"])]),j,e("section",null,[z,H,s(f,{modelValue:l(t),"onUpdate:modelValue":i[0]||(i[0]=b=>G(t)?t.value=b:null),name:"googleCode",label:"",placeholder:"Enter new Google Auth code"},null,8,["modelValue"])]),e("section",I,[s(r,{block:"",type:"primary",onClick:h},{default:d(()=>[u(" Confirm ")]),_:1})])])}}});typeof _=="function"&&_(L);export{L as default};
