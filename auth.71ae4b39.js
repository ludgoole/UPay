import{B as x,F as B,T as i}from"./vant-vendor.c1d1d286.js";import{k,G as v,a1 as V,r as s,b as w,L as A,H as G,I as e,j as c,S as _,x as r,u as l,J as R,f as E,E as F}from"./vendor.b3a4d035.js";import{g as K,a as N,b as m}from"./assets/index.d917a5ef.js";const D={class:"Auth p-4 bg-gray-1 flex-1"},Q=e("p",null,"1.Download Google Authenticator",-1),S={"text-center":"","my-4":""},T=e("hr",{"my-4":""},null,-1),U=e("p",null,"2.Open the Google Authenticator and scanthe QR Code below or enter secretKey",-1),q={"text-center":"","my-4":""},j=["src"],z=e("p",{"font-bold":""}," secretKey ",-1),H=e("i",{"translate-y--2px":"","i-material-symbols:content-copy-outline":""},null,-1),I=e("hr",{"my-4":""},null,-1),J=e("p",null," 3.Enter the time-based on-time codegenerated by the Google Authenticator appin the filed below ",-1),L=e("p",{"font-bold":"","mt-2":""}," Google Authenticator ",-1),M={"my-4":""},O=k({__name:"auth",setup($){const h=v(),{toClipboard:g}=V(),a=s(""),y=s(""),d=s(""),t=s(),f=o=>{g(o).then(()=>{i("copy success!")}).catch(()=>{i("copy fail!")})},b=()=>{N({googleCode:t.value}).then(o=>{console.log("\u{1F680} ~ file: auth.vue:19 ~ bind ~ res:",o),i("bind success"),F.set("bingCode",(o.bindCode||0).toString(),{expires:1}),h.go(-1)})};return w(()=>{K().then(o=>{y.value=o.qrUrl,d.value=o.imgBase64,a.value=o.secretKey})}),(o,n)=>{const u=x,C=B;return A(),G("div",D,[e("section",null,[Q,e("p",S,[c(u,{type:"primary",size:"small"},{default:_(()=>[r(" Download Now ")]),_:1})])]),T,e("section",null,[U,e("p",q,[e("img",{"inline-block":"",crossorigin:"anonymous",src:l(d),alt:"QR Code"},null,8,j)]),z,e("p",{"text-sm":"",onClick:n[0]||(n[0]=p=>f(l(a)))},[r(R(l(a))+" ",1),H])]),I,e("section",null,[J,L,c(C,{modelValue:l(t),"onUpdate:modelValue":n[1]||(n[1]=p=>E(t)?t.value=p:null),name:"googleCode",label:"",placeholder:"Enter new Google Auth.code"},null,8,["modelValue"])]),e("section",M,[c(u,{block:"",type:"primary",onClick:b},{default:_(()=>[r(" Confirm ")]),_:1})])])}}});typeof m=="function"&&m(O);export{O as default};
