import{B as H,E as J,c as M,d as Q,e as W,F as O,f as X,A as Y,T as Z}from"./vant-vendor.89a2157f.js";import{k as ee,W as te,P as ae,r as u,a as se,w as le,b as oe,K as r,H as c,I as n,j as l,R as p,F as v,S as F,u as t,f as A,x as N,J as f,Q as ne}from"./vendor.a80ff229.js";import{b as de,a as ue,c as re,d as ie,e as ce}from"./mine.e87a5116.js";import{u as me,b as x}from"./assets/index.f6739b6c.js";const pe={class:"Blank px-4 bg-gray-1 flex-1"},fe={key:0,"mt-4":"","color-gray-4":"","divide-y":""},ge=n("li",null,null,-1),ve={key:0},be={"flex-middle":"","flex-justify":""},_e={"flex-middle":""},ye=n("li",null,null,-1),ke={style:{margin:"16px"},"pb-4":""},Ve=ee({__name:"address",setup(he){const{title:T}=te(me()),U=ae(),y=u([]),V=u(!1),S=u(!1),h=u(1),E=u(10),C=u(0),B=u(0),o=u(String(U.query.title)),w=[{title:"USDT"},{title:"BANK"}],g=u(!1),b=u("Add"),a=se({address:"",googleCode:"",beneName:"",account:"",ifsc:""}),k=()=>{const i=o.value==="BANK"?de:ue;console.log("\u{1F680} ~ file: address.vue:36 ~ getList ~ title.value:",o.value),i({pageNum:h.value,pageSize:E.value}).then(e=>{console.log("\u{1F680} ~ file: address.vue:13 ~ addressDetail ~ res:",e),C.value=e.total,y.value=e.records.map(m=>({...m,checked:!!m.status}))})},D=()=>{console.log("\u{1F680} ~ file: address.vue:57 ~ onLoad ~ pageNum:",h),C.value>y.value.length?(h.value++,k()):S.value=!0},L=()=>{a.address="",a.googleCode="",a.beneName="",a.account="",a.ifsc=""},q=()=>{L(),b.value="Add",g.value=!0},I=i=>{B.value=i.id,b.value="Edit",a.address=i.address,a.googleCode="",g.value=!0},K=i=>{const e=o.value==="BANK"?re:ie,m=b.value==="Add"?e(i):ce({...i,addressId:B.value});o.value==="BANK"&&console.log("\u{1F680} ~ file: address.vue:62 ~ onSubmit ~ values:",i),m.then(()=>{g.value=!1,Z(b.value==="Add"?"add success":"update success"),k()})};return le(o,()=>{T.value=o.value==="BANK"?"bankAccount":"address"},{immediate:!0}),oe(()=>{k()}),(i,e)=>{const m=H,P=J,R=M,z=Q,G=W,_=O,$=X,j=Y;return r(),c(v,null,[n("div",pe,[n("section",null,[l(G,{active:t(o),"onUpdate:active":e[1]||(e[1]=s=>A(o)?o.value=s:null),type:"card","mt-4":"","pb-4":"",onChange:k},{default:p(()=>[(r(),c(v,null,F(w,s=>l(z,{key:s.title,name:s.title,title:s.title},{default:p(()=>[l(R,{loading:t(V),"onUpdate:loading":e[0]||(e[0]=d=>A(V)?V.value=d:null),finished:t(S),"finished-text":"",onLoad:D},{default:p(()=>[t(y).length?(r(),c("ul",fe,[ge,(r(!0),c(v,null,F(t(y),d=>(r(),c("li",{key:d.id,"py-4":""},[n("p",null,"Id: "+f(d.id),1),t(o)==="USDT"?(r(),c("p",ve,"Address: "+f(d.address),1)):(r(),c(v,{key:1},[n("p",null,"BankAccount: "+f(d.bankAccount),1),n("p",null,"BeneName: "+f(d.beneName),1),n("p",null,"IFSC: "+f(d.ifsc),1)],64)),n("p",be,[n("span",_e," Status: "+f(d.status===0?"unactive":"active"),1),l(m,{type:"primary",round:"",size:"small",class:"!px-4",onClick:Ae=>I(d)},{default:p(()=>[N(" edit ")]),_:2},1032,["onClick"])]),n("p",null,"CreateTime: "+f(d.createTime),1)]))),128)),ye])):(r(),ne(P,{key:1,description:"no data"}))]),_:1},8,["loading","finished"]),l(m,{type:"primary",block:"",onClick:q},{default:p(()=>[N(" add ")]),_:1})]),_:2},1032,["name","title"])),64))]),_:1},8,["active"])])]),l(j,{show:t(g),"onUpdate:show":e[7]||(e[7]=s=>A(g)?g.value=s:null),title:`${t(b)} ${t(o)}`},{default:p(()=>[l($,{onSubmit:K},{default:p(()=>[t(o)==="USDT"?(r(),c(v,{key:0},[l(_,{modelValue:t(a).address,"onUpdate:modelValue":e[2]||(e[2]=s=>t(a).address=s),name:"address",label:"Address",placeholder:"Enter the address",rules:[{required:!0,message:"Please enter the Address"}]},null,8,["modelValue"]),l(_,{modelValue:t(a).googleCode,"onUpdate:modelValue":e[3]||(e[3]=s=>t(a).googleCode=s),name:"googleCode",label:"Google Code",placeholder:"Enter the Google Code",rules:[{required:!0,message:"Please enter Google Code"}]},null,8,["modelValue"])],64)):(r(),c(v,{key:1},[l(_,{modelValue:t(a).beneName,"onUpdate:modelValue":e[4]||(e[4]=s=>t(a).beneName=s),name:"beneName",label:"Bene Name",placeholder:"Enter the bene name",rules:[{required:!0,message:"Please enter the bene name"}]},null,8,["modelValue"]),l(_,{modelValue:t(a).account,"onUpdate:modelValue":e[5]||(e[5]=s=>t(a).account=s),name:"bankAccount",label:"Bank Account",placeholder:"Enter the account",rules:[{required:!0,message:"Please enter the account"}]},null,8,["modelValue"]),l(_,{modelValue:t(a).ifsc,"onUpdate:modelValue":e[6]||(e[6]=s=>t(a).ifsc=s),name:"ifsc",label:"IFSC",placeholder:"Enter the ifsc",rules:[{required:!0,message:"Please enter the ifsc"}]},null,8,["modelValue"])],64)),n("div",ke,[l(m,{block:"",type:"primary","native-type":"submit"},{default:p(()=>[N(" submit ")]),_:1})])]),_:1})]),_:1},8,["show","title"])],64)}}});typeof x=="function"&&x(Ve);export{Ve as default};
