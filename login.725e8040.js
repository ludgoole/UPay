import{c as T,d as F,u as G,a6 as I,a7 as M,b as r,n as N,t as V,Y as R,f as A,M as $,l as q,af as U,r as P,F as Y,G as j,H as h,J as z,O as b,ag as w,S as H,T as J,U as x}from"./assets/index.6fed36b7.js";import{F as K,B as L}from"./index.ed8c107a.js";const[W,Q]=T("form"),X={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:N,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:V,showErrorMessage:V,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Z=F({name:W,props:X,emits:["submit","failed"],setup(a,{emit:o,slots:c}){const{children:n,linkChildren:d}=G(I),i=e=>e?n.filter(t=>e.includes(t.name)):n,p=e=>new Promise((t,l)=>{const u=[];i(e).reduce((O,k)=>O.then(()=>{if(!u.length)return k.validate().then(S=>{S&&u.push(S)})}),Promise.resolve()).then(()=>{u.length?l(u):t()})}),m=e=>new Promise((t,l)=>{const u=i(e);Promise.all(u.map(s=>s.validate())).then(s=>{s=s.filter(Boolean),s.length?l(s):t()})}),g=e=>{const t=n.find(l=>l.name===e);return t?new Promise((l,u)=>{t.validate().then(s=>{s?u(s):l()})}):Promise.reject()},_=e=>typeof e=="string"?g(e):a.validateFirst?p(e):m(e),v=e=>{typeof e=="string"&&(e=[e]),i(e).forEach(l=>{l.resetValidation()})},B=()=>n.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),f=(e,t)=>{n.some(l=>l.name===e?(l.$el.scrollIntoView(t),!0):!1)},y=()=>n.reduce((e,t)=>(e[t.name]=t.formValue.value,e),{}),E=()=>{const e=y();_().then(()=>o("submit",e)).catch(t=>{o("failed",{values:e,errors:t}),a.scrollToError&&t[0].name&&f(t[0].name)})},D=e=>{R(e),E()};return d({props:a}),M({submit:E,validate:_,getValues:y,scrollToField:f,resetValidation:v,getValidationStatus:B}),()=>{var e;return r("form",{class:Q(),onSubmit:D},[(e=c.default)==null?void 0:e.call(c)])}}});const ee=A(Z),[te,C]=T("cell-group"),ne={title:String,inset:Boolean,border:V};var le=F({name:te,inheritAttrs:!1,props:ne,setup(a,{slots:o,attrs:c}){const n=()=>{var i;return r("div",q({class:[C({inset:a.inset}),{[U]:a.border&&!a.inset}]},c),[(i=o.default)==null?void 0:i.call(o)])},d=()=>r("div",{class:C("title",{inset:a.inset})},[o.title?o.title():a.title]);return()=>a.title||o.title?r($,null,[d(),n()]):n()}});const ae=A(le);const oe={class:"Login","text-center":""},se=h("div",{class:"logo","mt-32":""},[h("i",{"text-6xl":"",class:"i-carbon:apple"})],-1),re={style:{margin:"16px"}},ie=J(" \u63D0\u4EA4 "),ue=F({__name:"login",setup(a){const o=H(),c="\u80B2\u77E5\u9053 \u8BAD\u7EC3\u8425",n=P(""),d=P(""),i=p=>{console.log("submit",p),o.push("/"),w.setItem("Authorization","token"),w.setItem("userInfo",{...p,role:"V3"})};return(p,m)=>{const g=K,_=ae,v=L,B=ee;return Y(),j("div",oe,[se,h("h1",{class:"title","mt-4":""},z(c)),r(B,{"mt-8":"",onSubmit:i},{default:b(()=>[r(_,{inset:""},{default:b(()=>[r(g,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=f=>n.value=f),name:"username",label:"\u7528\u6237\u540D",placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),r(g,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=f=>d.value=f),type:"password",name:"password",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"])]),_:1}),h("div",re,[r(v,{round:"",block:"",type:"primary","native-type":"submit"},{default:b(()=>[ie]),_:1})])]),_:1})])}}});typeof x=="function"&&x(ue);export{ue as default};
